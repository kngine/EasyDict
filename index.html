<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#3B82F6">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="EasyDict">
  <meta name="description" content="English-Chinese Dictionary with word analysis, etymology, and usage scenarios">
  
  <title>EasyDict - English-Chinese Dictionary</title>
  
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192x192.png">
  <link rel="icon" type="image/png" href="icons/icon-96x96.png">
  <link rel="stylesheet" href="styles.css">
  
  <!-- Preconnect to API domains -->
  <link rel="preconnect" href="https://api.dictionaryapi.dev">
  <link rel="preconnect" href="https://api.mymemory.translated.net">
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <button id="backBtn" class="back-btn" style="display: none;">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        <div class="header-title-group">
          <h1 class="app-title">
            <span class="title-icon">üìñ</span>
            EasyDict
          </h1>
          <p class="app-subtitle">Your bilingual dictionary companion</p>
        </div>
        <div class="header-buttons">
          <button id="shareBtn" class="header-btn share-btn" title="Share" style="display: none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="18" cy="5" r="3"/>
              <circle cx="6" cy="12" r="3"/>
              <circle cx="18" cy="19" r="3"/>
              <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
              <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
            </svg>
          </button>
          <button id="notebookBtn" class="header-btn notebook-btn" title="Notebook">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
              <line x1="8" y1="6" x2="16" y2="6"/>
              <line x1="8" y1="10" x2="16" y2="10"/>
            </svg>
          </button>
          <button id="historyBtn" class="header-btn history-btn" title="Search History">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Search Section -->
      <section id="searchSection" class="search-section">
        <div class="search-container">
          <div class="search-input-wrapper">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
            <input 
              type="text" 
              id="searchInput" 
              class="search-input" 
              placeholder="Search for a word or phrase..."
              autocomplete="off"
              autocapitalize="none"
              spellcheck="false"
            >
            <button id="clearBtn" class="clear-btn" style="display: none;">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="m15 9-6 6M9 9l6 6"/>
              </svg>
            </button>
          </div>
          <button id="searchBtn" class="search-btn">
            <span>Search</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </section>

      <!-- Error Banner -->
      <div id="errorBanner" class="error-banner" style="display: none;">
        <svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="8" x2="12" y2="12"/>
          <line x1="12" y1="16" x2="12.01" y2="16"/>
        </svg>
        <span id="errorMessage"></span>
        <button id="dismissError" class="dismiss-btn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <!-- Loading Indicator -->
      <div id="loadingIndicator" class="loading-indicator" style="display: none;">
        <div class="spinner"></div>
        <span>Searching...</span>
      </div>

      <!-- Results Container -->
      <div id="resultsContainer" class="results-container" style="display: none;">
        <!-- Word Header -->
        <div class="word-header-card">
          <div class="word-header-content">
            <h2 id="resultWord" class="result-word"></h2>
            <div class="phonetic-container">
              <span id="phoneticText" class="phonetic-text"></span>
              <button id="playAudioBtn" class="play-audio-btn" style="display: none;">
                <svg id="audioIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                  <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                  <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                </svg>
                <div id="audioSpinner" class="audio-spinner" style="display: none;"></div>
              </button>
            </div>
          </div>
        </div>

        <!-- Add to Notebook bar -->
        <div id="notebookAddBar" class="notebook-add-bar" style="display: none;">
          <button id="notebookAddBtn" class="notebook-add-btn" title="Add this word to notebook">
            <svg class="notebook-add-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
              <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
              <line x1="12" y1="8" x2="12" y2="16"/>
              <line x1="8" y1="12" x2="16" y2="12"/>
            </svg>
            <span id="notebookAddLabel">Add this word to notebook</span>
          </button>
        </div>

        <!-- Chinese Translation Card -->
        <div class="chinese-translation-card">
          <div class="card-header">
            <span class="card-icon">ËØë</span>
            <span class="card-title">Chinese Translation</span>
          </div>
          <div id="chineseTranslation" class="chinese-translation"></div>
        </div>

        <!-- English Definitions -->
        <div id="definitionsContainer" class="definitions-container"></div>

        <!-- Word Root Analysis -->
        <div id="wordRootCard" class="word-root-card" style="display: none;">
          <div class="card-header">
            <span class="card-icon">üî§</span>
            <span class="card-title">Word Structure</span>
          </div>
          <div id="wordRootContent" class="word-root-content"></div>
        </div>

        <!-- Word Family -->
        <div id="wordFamilyCard" class="word-family-card" style="display: none;">
          <div class="card-header">
            <span class="card-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
            <span class="card-title">Word Family</span>
          </div>
          <div id="wordFamilyContent" class="word-family-content"></div>
        </div>

        <!-- Word Usage Analysis -->
        <div id="wordUsageCard" class="word-usage-card" style="display: none;">
          <div class="card-header">
            <span class="card-icon">üí¨</span>
            <span class="card-title">Usage Scenarios</span>
          </div>
          <div id="wordUsageContent" class="word-usage-content"></div>
        </div>

        <!-- Ask AI Link -->
        <a id="googleLink" class="google-link-card" href="#" target="_blank" rel="noopener noreferrer">
          <div class="card-header">
            <span class="card-icon" title="Gemini">
              <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                <defs>
                  <linearGradient id="gemini-icon-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#8E44AD"/>
                    <stop offset="50%" style="stop-color:#4285F4"/>
                    <stop offset="100%" style="stop-color:#00D4AA"/>
                  </linearGradient>
                </defs>
                <path fill="url(#gemini-icon-gradient)" d="M12 2l2.4 7.4h7.6l-6 4.6 2.3 7-6.3-4.6-6.3 4.6 2.3-7-6-4.6h7.6z"/>
              </svg>
            </span>
            <span class="card-title">Ask AI</span>
          </div>
          <svg class="google-link-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

      <!-- Empty State / Search History -->
      <div id="emptyState" class="empty-state">
        <!-- Welcome Section -->
        <div id="welcomeSection" class="welcome-section">
          <div class="welcome-icon">üìö</div>
          <h2 class="welcome-title">Welcome to EasyDict</h2>
          <p class="welcome-subtitle">Your bilingual dictionary companion</p>
          <div class="features-grid">
            <div class="feature-item">
              <span class="feature-icon">üîç</span>
              <span class="feature-text">English Definitions</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">ËØë</span>
              <span class="feature-text">Chinese Translation</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üî§</span>
              <span class="feature-text">Word Etymology</span>
            </div>
            <div class="feature-item">
              <span class="feature-icon">üí¨</span>
              <span class="feature-text">Usage Scenarios</span>
            </div>
          </div>
          <button id="learnToffleBtn" class="learn-toffle-btn">Learn TOFFLE</button>
          <button id="learnGreBtn" class="learn-toffle-btn">Learn GRE</button>
        </div>

        <!-- Search History -->
        <div id="historySection" class="history-section" style="display: none;">
          <div class="history-header">
            <h3 class="history-title">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              Recent Searches
            </h3>
            <button id="clearHistoryBtn" class="clear-history-btn">Clear All</button>
          </div>
          <ul id="historyList" class="history-list"></ul>
        </div>

        <!-- Notebook -->
        <div id="notebookSection" class="notebook-section" style="display: none;">
          <div class="notebook-header">
            <h3 class="notebook-title">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                <line x1="8" y1="6" x2="16" y2="6"/>
                <line x1="8" y1="10" x2="16" y2="10"/>
              </svg>
              Notebook
            </h3>
            <p class="notebook-subtitle">Words you're learning</p>
            <button id="clearNotebookBtn" class="clear-notebook-btn">Clear All</button>
          </div>
          <ul id="notebookList" class="notebook-list"></ul>
        </div>

        <!-- TOFFLE (TOEFL Vocabulary) -->
        <div id="toffleSection" class="toffle-section" style="display: none;">
          <div class="toffle-header">
            <h3 class="toffle-title">TOFFLE Vocabulary</h3>
            <p class="toffle-subtitle" id="toffleSubtitle">Choose a letter</p>
            <button type="button" id="toffleBackToLetters" class="toffle-back-to-letters" style="display: none;">‚Üê Back to letters</button>
          </div>
          <div id="toffleLetterGrid" class="toffle-letter-grid"></div>
          <ul id="toffleList" class="toffle-list" style="display: none;"></ul>
        </div>

        <!-- GRE Vocabulary -->
        <div id="greSection" class="toffle-section gre-section" style="display: none;">
          <div class="toffle-header">
            <h3 class="toffle-title">GRE Vocabulary</h3>
            <p class="toffle-subtitle" id="greSubtitle">Choose a letter</p>
            <button type="button" id="greBackToLetters" class="toffle-back-to-letters" style="display: none;">‚Üê Back to letters</button>
          </div>
          <div id="greLetterGrid" class="toffle-letter-grid"></div>
          <ul id="greList" class="toffle-list" style="display: none;"></ul>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
    </footer>
  </div>

  <!-- Scripts -->
  <script type="module" src="app.js"></script>
</body>
</html>
